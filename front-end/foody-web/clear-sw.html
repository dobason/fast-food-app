<!DOCTYPE html>
<html>
<head>
  <title>Clear Service Workers</title>
</head>
<body>
  <h1>Clearing Service Workers...</h1>
  <div id="status"></div>
  <script>
    const status = document.getElementById('status');
    
    // Unregister all service workers
    navigator.serviceWorker.getRegistrations().then(function(registrations) {
      if (registrations.length === 0) {
        status.innerHTML += '<p>No service workers found</p>';
      }
      for(let registration of registrations) {
        registration.unregister().then(() => {
          status.innerHTML += '<p>✅ Unregistered: ' + registration.scope + '</p>';
        });
      }
    });

    // Clear all caches
    caches.keys().then(function(names) {
      if (names.length === 0) {
        status.innerHTML += '<p>No caches found</p>';
      }
      for(let name of names) {
        caches.delete(name).then(() => {
          status.innerHTML += '<p>✅ Deleted cache: ' + name + '</p>';
        });
      }
    });
    
    setTimeout(() => {
      status.innerHTML += '<p><strong>Done! You can close this page and refresh your app.</strong></p>';
    }, 2000);
  </script>
</body>
</html>
